{"remainingRequest":"/home/user/Documents/bitrix_24_gantt/node_modules/babel-loader/lib/index.js!/home/user/Documents/bitrix_24_gantt/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/user/Documents/bitrix_24_gantt/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user/Documents/bitrix_24_gantt/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user/Documents/bitrix_24_gantt/src/App.vue","mtime":1562159111776},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\n//\n//\n//\n//\n//\n//\nimport Gantt from \"./components/gantt.vue\";\nimport { gantt } from 'dhtmlx-gantt';\nexport default {\n  name: 'app',\n  components: {\n    Gantt: Gantt\n  },\n  data: function data() {\n    return {\n      tasks: {\n        data: [{\n          id: 1,\n          state: 'user',\n          priority: '',\n          parentId: null,\n          text: 'Пользователь',\n          time_sum: 10\n        }, {\n          id: 21001,\n          state: 'proj',\n          parent: 1,\n          text: 'Фонд Потанина',\n          time_sum: 10\n        }, {\n          id: 45,\n          parent: 21001,\n          state: 'task',\n          text: 'Англ версия. Поправить тайтл',\n          duration: 3,\n          priority: 1,\n          start_date: '20-06-2019',\n          end_date: '10-07-2019',\n          progress: 0.6,\n          time: 14,\n          time_used: 4\n        }, {\n          id: 2400,\n          parent: 21001,\n          text: 'поправить слайдер истории в мобиле ipod iphone',\n          duration: 1,\n          priority: 1,\n          start_date: '20-06-2019',\n          end_date: '21-06-2019',\n          progress: 0.4,\n          time: 4,\n          time_used: 1.2\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    gantt.templates.task_text = function (start, end, task) {\n      console.log(task);\n\n      if (task.state === 'user') {\n        console.log(task);\n        return \"\".concat(task.time_sum);\n      }\n\n      if (task.state === 'proj') {\n        return \"\".concat(task.time_sum);\n      } else {\n        console.log();\n        return \"\".concat(task.time - task.time_used);\n      }\n    };\n\n    gantt.config.columns = [{\n      name: 'text',\n      label: 'Тема',\n      width: 400,\n      tree: true\n    }, {\n      name: 'priority',\n      label: 'Приоритет',\n      align: 'center',\n      width: 100,\n      template: function template(obj) {\n        return obj.priority || '';\n      }\n    }];\n    gantt.config.fit_tasks = true;\n    gantt.config.duration_unit = 'hour'; //an hour\n\n    gantt.config.duration_step = 1;\n    gantt.config.scale_unit = 'day';\n    gantt.config.step = 1;\n    gantt.config.date_scale = '%D, %d';\n    gantt.config.subscales = [{\n      unit: 'month',\n      step: 1,\n      date: '%F'\n    }, {\n      unit: 'week',\n      step: 1,\n      date: '%W неделя'\n    }];\n    gantt.config.scale_height = 90;\n\n    gantt.templates.task_cell_class = function (task, date) {\n      if (date.getDay() === 0 || date.getDay() === 6) {\n        return 'weekend';\n      }\n    };\n\n    var markerId = gantt.addMarker({\n      start_date: new Date(),\n      //a Date object that sets the marker's date\n      css: 'today',\n      //a CSS class applied to the marker\n      title: new Date().toString() // the marker's tooltip\n\n    });\n    gantt.config.layout = {\n      css: 'gantt_container',\n      cols: [{\n        width: 400,\n        min_width: 300,\n        rows: [{\n          view: 'grid',\n          scrollX: 'gridScroll',\n          scrollable: true,\n          scrollY: 'scrollVer'\n        }, {\n          view: 'scrollbar',\n          id: 'gridScroll'\n        }]\n      }, {\n        rows: [{\n          view: 'timeline',\n          scrollX: 'scrollHor',\n          scrollY: 'scrollVer'\n        }, {\n          view: 'scrollbar',\n          id: 'scrollHor'\n        }]\n      }, {\n        view: 'scrollbar',\n        id: 'scrollVer'\n      }] // rows: [\n      //     {\n      //         cols: [\n      //             {view : 'grid', id : 'grid', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n      //             {resizer : true, width : 1},\n      //             {view : 'timeline', id : 'timeline', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n      //             {view : 'scrollbar', scroll : 'y', id : 'scrollVer'}\n      //         ]\n      //     },\n      //     {view : 'scrollbar', scroll : 'x', id : 'scrollHor', height : 20}\n      // ]\n\n    };\n    gantt.getMarker(markerId);\n    gantt.init(this.$refs.gantt);\n    gantt.parse(this.tasks);\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"container\">\n        <div ref=\"gantt\" tasks=\"tasks\" class=\"left-container\"></div>\n    </div>\n</template>\n\n<script>\nimport Gantt     from './components/gantt.vue';\nimport { gantt } from 'dhtmlx-gantt';\nexport default {\n    name      : 'app',\n    components: { Gantt },\n    data      : () => ({\n        tasks: {\n            data: [\n                {\n                    id      : 1,\n                    state   : 'user',\n                    priority: '',\n                    parentId: null,\n                    text    : 'Пользователь',\n                    time_sum: 10\n                },\n                {\n                    id      : 21001,\n                    state   : 'proj',\n                    parent  : 1,\n                    text    : 'Фонд Потанина',\n                    time_sum: 10\n                },\n                {\n                    id        : 45,\n                    parent    : 21001,\n                    state     : 'task',\n                    text      : 'Англ версия. Поправить тайтл',\n                    duration  : 3,\n                    priority  : 1,\n                    start_date: '20-06-2019',\n                    end_date  : '10-07-2019',\n                    progress  : 0.6,\n                    time      : 14,\n                    time_used : 4\n                },\n                {\n                    id        : 2400,\n                    parent    : 21001,\n                    text      : 'поправить слайдер истории в мобиле ipod iphone',\n                    duration  : 1,\n                    priority  : 1,\n                    start_date: '20-06-2019',\n                    end_date  : '21-06-2019',\n                    progress  : 0.4,\n                    time      : 4,\n                    time_used : 1.2\n                }\n            ]\n        },\n    }),\n    mounted() {\n        gantt.templates.task_text  = (start,end,task) => {\n            console.log(task);\n            if(task.state === 'user') { \n                console.log(task);\n            \n                return `${task.time_sum}` ; \n            }\n            if (task.state === 'proj') {  \n                return `${task.time_sum}`;\n            }\n            else { \n                console.log();\n                \n                return `${task.time - task.time_used}`;\n            }\n        };\n        gantt.config.columns       = [\n            {\n                name : 'text',     \n                label: 'Тема', \n                width: 400,\n                tree : true \n            },\n            {\n                name : 'priority',        \n                label: 'Приоритет',   \n                align: 'center',   \n                width: 100 ,\n                template(obj) {\n                    return obj.priority || '' ; }\n            }\n        ];\n        gantt.config.fit_tasks     = true; \n        gantt.config.duration_unit = 'hour';//an hour\n        gantt.config.duration_step = 1; \n    \n        gantt.config.scale_unit = 'day';\n        gantt.config.step       = 1;\n        gantt.config.date_scale = '%D, %d';\n\n        gantt.config.subscales          = [\n            {unit : 'month', step : 1, date : '%F'},\n            {unit : 'week', step : 1, date : '%W неделя'}\n        ];\n        gantt.config.scale_height       = 90;\n        gantt.templates.task_cell_class = (task,date) => {\n            if(date.getDay() === 0 || date.getDay() === 6) { \n                return 'weekend' ;\n            }\n        };\n        var markerId                    = gantt.addMarker({\n            start_date: new Date(), //a Date object that sets the marker's date\n            css       : 'today', //a CSS class applied to the marker\n            title     : new Date().toString()// the marker's tooltip\n        });\n\n        gantt.config.layout = {\n            css : 'gantt_container',\n            cols: [\n                {\n                    width    : 400,\n                    min_width: 300,\n                    rows     : [\n                        {view : 'grid', scrollX : 'gridScroll', scrollable : true, scrollY : 'scrollVer'}, \n                        {view : 'scrollbar', id : 'gridScroll'}  \n                    ]\n                },\n                {\n                    rows: [\n                        {view : 'timeline', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n                        {view : 'scrollbar', id : 'scrollHor'}\n                    ]\n                },\n                {view : 'scrollbar', id : 'scrollVer'}\n            ],\n            // rows: [\n            //     {\n            //         cols: [\n            //             {view : 'grid', id : 'grid', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n            //             {resizer : true, width : 1},\n            //             {view : 'timeline', id : 'timeline', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n            //             {view : 'scrollbar', scroll : 'y', id : 'scrollVer'}\n            //         ]\n            //     },\n            //     {view : 'scrollbar', scroll : 'x', id : 'scrollHor', height : 20}\n            // ]\n        };\n        gantt.getMarker(markerId);\n        gantt.init(this.$refs.gantt);\n        gantt.parse(this.tasks);\n    }\n};\n</script>\n<style>\n.gantt_layout_root{\n    height: 500px!important;\n    \n}\n.weekend{ background: rgba(238, 149, 149, 0.24) !important;}\n@import \"~dhtmlx-gantt/codebase/dhtmlxgantt.css\";\n</style>"],"sourceRoot":"src"}]}