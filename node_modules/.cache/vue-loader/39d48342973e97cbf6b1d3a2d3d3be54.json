{"remainingRequest":"/home/user/Documents/bitrix_24_gantt/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user/Documents/bitrix_24_gantt/src/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/user/Documents/bitrix_24_gantt/src/App.vue","mtime":1562159111776},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/user/Documents/bitrix_24_gantt/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.gantt_layout_root{\n    height: 500px!important;\n    \n}\n.weekend{ background: rgba(238, 149, 149, 0.24) !important;}\n@import \"~dhtmlx-gantt/codebase/dhtmlxgantt.css\";\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;;AAEA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n    <div class=\"container\">\n        <div ref=\"gantt\" tasks=\"tasks\" class=\"left-container\"></div>\n    </div>\n</template>\n\n<script>\nimport Gantt     from './components/gantt.vue';\nimport { gantt } from 'dhtmlx-gantt';\nexport default {\n    name      : 'app',\n    components: { Gantt },\n    data      : () => ({\n        tasks: {\n            data: [\n                {\n                    id      : 1,\n                    state   : 'user',\n                    priority: '',\n                    parentId: null,\n                    text    : 'Пользователь',\n                    time_sum: 10\n                },\n                {\n                    id      : 21001,\n                    state   : 'proj',\n                    parent  : 1,\n                    text    : 'Фонд Потанина',\n                    time_sum: 10\n                },\n                {\n                    id        : 45,\n                    parent    : 21001,\n                    state     : 'task',\n                    text      : 'Англ версия. Поправить тайтл',\n                    duration  : 3,\n                    priority  : 1,\n                    start_date: '20-06-2019',\n                    end_date  : '10-07-2019',\n                    progress  : 0.6,\n                    time      : 14,\n                    time_used : 4\n                },\n                {\n                    id        : 2400,\n                    parent    : 21001,\n                    text      : 'поправить слайдер истории в мобиле ipod iphone',\n                    duration  : 1,\n                    priority  : 1,\n                    start_date: '20-06-2019',\n                    end_date  : '21-06-2019',\n                    progress  : 0.4,\n                    time      : 4,\n                    time_used : 1.2\n                }\n            ]\n        },\n    }),\n    mounted() {\n        gantt.templates.task_text  = (start,end,task) => {\n            console.log(task);\n            if(task.state === 'user') { \n                console.log(task);\n            \n                return `${task.time_sum}` ; \n            }\n            if (task.state === 'proj') {  \n                return `${task.time_sum}`;\n            }\n            else { \n                console.log();\n                \n                return `${task.time - task.time_used}`;\n            }\n        };\n        gantt.config.columns       = [\n            {\n                name : 'text',     \n                label: 'Тема', \n                width: 400,\n                tree : true \n            },\n            {\n                name : 'priority',        \n                label: 'Приоритет',   \n                align: 'center',   \n                width: 100 ,\n                template(obj) {\n                    return obj.priority || '' ; }\n            }\n        ];\n        gantt.config.fit_tasks     = true; \n        gantt.config.duration_unit = 'hour';//an hour\n        gantt.config.duration_step = 1; \n    \n        gantt.config.scale_unit = 'day';\n        gantt.config.step       = 1;\n        gantt.config.date_scale = '%D, %d';\n\n        gantt.config.subscales          = [\n            {unit : 'month', step : 1, date : '%F'},\n            {unit : 'week', step : 1, date : '%W неделя'}\n        ];\n        gantt.config.scale_height       = 90;\n        gantt.templates.task_cell_class = (task,date) => {\n            if(date.getDay() === 0 || date.getDay() === 6) { \n                return 'weekend' ;\n            }\n        };\n        var markerId                    = gantt.addMarker({\n            start_date: new Date(), //a Date object that sets the marker's date\n            css       : 'today', //a CSS class applied to the marker\n            title     : new Date().toString()// the marker's tooltip\n        });\n\n        gantt.config.layout = {\n            css : 'gantt_container',\n            cols: [\n                {\n                    width    : 400,\n                    min_width: 300,\n                    rows     : [\n                        {view : 'grid', scrollX : 'gridScroll', scrollable : true, scrollY : 'scrollVer'}, \n                        {view : 'scrollbar', id : 'gridScroll'}  \n                    ]\n                },\n                {\n                    rows: [\n                        {view : 'timeline', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n                        {view : 'scrollbar', id : 'scrollHor'}\n                    ]\n                },\n                {view : 'scrollbar', id : 'scrollVer'}\n            ],\n            // rows: [\n            //     {\n            //         cols: [\n            //             {view : 'grid', id : 'grid', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n            //             {resizer : true, width : 1},\n            //             {view : 'timeline', id : 'timeline', scrollX : 'scrollHor', scrollY : 'scrollVer'},\n            //             {view : 'scrollbar', scroll : 'y', id : 'scrollVer'}\n            //         ]\n            //     },\n            //     {view : 'scrollbar', scroll : 'x', id : 'scrollHor', height : 20}\n            // ]\n        };\n        gantt.getMarker(markerId);\n        gantt.init(this.$refs.gantt);\n        gantt.parse(this.tasks);\n    }\n};\n</script>\n<style>\n.gantt_layout_root{\n    height: 500px!important;\n    \n}\n.weekend{ background: rgba(238, 149, 149, 0.24) !important;}\n@import \"~dhtmlx-gantt/codebase/dhtmlxgantt.css\";\n</style>"]}]}